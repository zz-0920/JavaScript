# 进程 线程
1. 进程：CPU 在运行指令和保存上下文所需要的时间
  - 比如：手机打开微信，系统在执行打开指令，到加载微信上下文环境，直到彻底关闭微信之前的这段时间，都是一个进程
2. 线程：是进程中的一个更小的单位，指的是执行一段指令所需的时间
  - 比如：打开微信聊天界面，就需要一个渲染线程，同时获取到最新的消息，需要打开一个网络线程

浏览器新开一个Tab页，就是开启了一个进程，这个进程中有很多线程相互配合工作，最后展示页面给用户。
这个过程涉及到的线程有：
1. HTTP 请求线程
2. JS 引擎线程
3. 渲染线程

线程之间通常都可以同时工作，但是 js 引擎线程和渲染线程是互斥的，因为 js 引擎线程和渲染线程都需要操作DOM树，而 DOM 树是不能同时被多个线程修改的。

# 异步
- V8 在执行 JS 时，默认只开启一个线程工作，所以考虑到执行效率，V8 会先执行同步代码，遇到异步代码时，会将异步代码存放到任务队列中，等待同步代码执行完后，再执行异步代码。

# Event-Loop
- JS 代码中有同步异步之分，异步还被分为宏任务和微任务

微任务：Promise.then、MutationObserver、process.nextTick
宏任务：setTimeout、setInterval、setImmediate、I/O、UI rendering、ajax

- 执行顺序：
  1. 先执行同步代码(这属于宏任务)，在这个过程中遇到异步，就存入任务队列中
  2. 同步执行完毕后，先执行微任务队列中的任务
  3. 微任务全部执行完毕后，有需要的情况下渲染页面
  4. 渲染完毕后，执行宏任务队列中的任务(开启了下一次的事件循序)

# await
1. 会将后续的代码挤入微任务队列
2. 浏览器对 await 的执行时间提前了(await 后面的代码当成同步来看待)