# 发布订阅模式
- 发布订阅模式是一种设计模式，它定义了一种对象之间的一对多依赖关系，当对象(发布者)的状态发生改变时，所有依赖于它的对象(订阅者)都将得到通知，使他们能够执行各自的操作。
- 发布订阅模式的核心是一个事件系统，它允许对象之间通过事件进行通信，而不是直接调用彼此。
- 发布订阅模式的优势在于它可以将对象之间的耦合度降低，使代码更加灵活和可维护。

- 发布订阅模式的实现：
    - 发布者：负责发布事件，当事件发生时，发布者会调用事件系统的发布方法，将事件通知给所有的订阅者。
    - 订阅者：负责订阅事件，当事件发生时，订阅者会收到通知，并且执行自己的操作。
    - 事件系统：负责管理所有的事件，包括发布事件和订阅事件。
- 发布者不直接接触订阅者，而是通过事件系统进行通信。

# 观察者模式
- 观察者模式是一种设计模式，它定义了对象之间的一对多依赖关系，当一个对象（主题）的状态发生改变时，所有依赖于它的对象（观察者）都会得到通知并自动更新。
- 观察者模式的核心是主题和观察者之间的直接依赖关系，主题维护一个观察者列表，并直接通知所有观察者。
- 观察者模式的优势在于实现了松耦合，主题只需要知道观察者实现了特定的接口，而不需要知道观察者的具体实现。

- 观察者模式的实现：
    - 主题（Subject）：被观察的对象，维护观察者列表，提供添加、删除和通知观察者的方法。
    - 观察者（Observer）：观察主题的对象，定义更新接口，当收到主题通知时执行相应操作。
    - 具体主题（ConcreteSubject）：实现主题接口，存储状态，当状态改变时通知观察者。
    - 具体观察者（ConcreteObserver）：实现观察者接口，定义具体的更新逻辑。
- 主题直接持有观察者的引用，通过调用观察者的更新方法进行通信。

## 发布订阅模式 vs 观察者模式

| 特性 | 发布订阅模式 | 观察者模式 |
|------|-------------|------------|
| 耦合度 | 松耦合（通过事件中心） | 相对紧耦合（直接依赖） |
| 通信方式 | 间接通信（事件系统） | 直接通信（方法调用） |
| 组件数量 | 三个（发布者、订阅者、事件中心） | 两个（主题、观察者） |
| 灵活性 | 更灵活，支持复杂事件处理 | 相对简单，适合简单通知 |
| 实现复杂度 | 较复杂 | 较简单 |