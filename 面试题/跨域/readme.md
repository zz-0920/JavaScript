# 浏览器同源策略
https://www.baidu.com/home

https://192.168.3.1:3000/home
 协议      域名       端口  路径

协议-域名-端口 都相同的两个源, 才叫同源, 才可以相互访问

- 在开发的过程中规避同源策略

- 同源策略破坏的是响应数据, 但是不破坏请求数据, 所以可以通过一些方法, 来规避同源策略

# 解决跨域问题
## 1. jsonp
 - 原理: 利用script标签的src属性不受同源策略限制的特性，通过动态创建script标签向跨域服务器发送请求。前端将回调函数名作为参数传递给后端，后端将数据包装成该回调函数的调用形式返回。前端提前在全局作用域定义同名函数来接收数据，实现跨域数据传输。需要注意请求完成后的资源清理和安全防护。
 - 缺陷: 
  1. 只支持 GET 请求
  2. 必须要后端支持

## 2. CORS
 - 原理: 后端在响应头中配置允许的源、方法、头信息, 来告知浏览器不需要同源策略的保护


## 3. nginx 反向代理
 - 原理: 利用 nginx 反向代理, 将前端请求代理到同源的服务器, 服务器再请求目标服务器, 最后将目标服务器的响应返回给前端

 - 缺陷: 增加了一次请求, 性能下降

## 4. web socket
 - 原理: 利用 web socket 协议, 实现浏览器与服务器的全双工通信，不受同源策略的制限

## 5. postMessage
 - 原理: 当一个页面通过 iframe 内嵌另一个页面时, 可以通过 postMessage 方法, 实现跨域通信, 可以在不同窗口、不同域之间传递数据

 - 缺陷: 只支持字符串类型的数据传递, 不能直接传递对象

## 6. domain
 - 原理: 当两个页面的域名不同时，

 https://www.a.test.com
 https://www.b.test.com


 - 缺陷: 只支持 IE 浏览器